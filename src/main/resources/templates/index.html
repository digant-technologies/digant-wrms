<!DOCTYPE HTML>
<html  lang="en"
	xmlns:th="http://www.thymeleaf.org" >
   <head>
      <title>Digant Technologies</title>
             
       <!-- Font Awesome -->
			<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
				<!-- Bootstrap core CSS -->
			<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
		      <!-- Material Design Bootstrap -->
			<link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.7.7/css/mdb.min.css" rel="stylesheet">
		    <link rel="stylesheet"
				href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.6/angular-material.min.css" />
			<link rel="stylesheet"
				href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" />
			<link rel="stylesheet"
				href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css" />
			<link rel="stylesheet"
				href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" />
				
			<!-- MANUAL CSS -->
			<link rel="stylesheet" type="text/css" href="../static/css/wrms.css" th:href="@{/css/wrms.css}" />
			
			<style type="text/css">
				[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak,
					.x-ng-cloak {
					display: none !important;
				}
			</style>
			
		    <!-- JQuery -->
			<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
			<!-- Bootstrap tooltips -->
			<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
			<!-- Bootstrap core JavaScript -->
			<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
			<!-- MDB core JavaScript -->
		<!-- 			<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.7.7/js/mdb.min.js"></script>  
		 -->       
			<script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
		    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
       
       		<script src="https://www.amcharts.com/lib/4/core.js"></script>
			<script src="https://www.amcharts.com/lib/4/charts.js"></script>
			<script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
       
      </head>
	   <body data-ng-app="digantApp" data-ng-controller="wrmsController" layout="column" >
	   
			<nav class="navbar navbar-expand-lg navbar-dark bg-dark" style="background-color: #007bff!important; font-weight:bolder;">
				  <a class="navbar-brand" href="#">Digant Technologies</a>
				  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
				    <span class="navbar-toggler-icon"></span>
				  </button>
			</nav>
	   
	     <md-tabs  flex layout="column" style="background-color: lavender;" layout-fill>
	   	
	   		<md-tab label="home" flex layout="column"  data-ng-init="fetchDeviceInfoData(); fetchSiteIds();">
	   			<md-tabs flex="" layout-fill="" style="background-color: aliceblue;">
	   				<md-tab label="summary" data-ng-init="fetchFullSIteInfo()" >
	   					<md-content  flex="" layout-fill="">
	   						<!-- <div data-ng-if="!isLoading" style="font-weight: bold; font-size: larger;">ALARM TABLE</div> -->
	   						 <div style="margin-top: 10%;" data-ng-show="isLoadingSummary" layout="row" layout-sm="column" layout-align="space-around">
      							<md-progress-circular md-mode="indeterminate"></md-progress-circular>
   							 </div>
   							 <div class='center' data-ng-if="isLoadingSummary">
  								<p class="awesome">Please wait loading...</p>
						     </div>
						     
						     	<div style="margin-top: 1%;">
					   			 <table id="alarmTable" data-ng-if="!isLoadingSummary" class="table table-striped table-bordered" style="background-color: rgba(189, 239, 191, 0.26);" cellspacing="0" width="10%">
										<thead style="background-color: #14688aa6; color: aliceblue;">
											<tr>
												<th class="thWidth"  title="SIGNAL STRENGTH"><div class="colHeader">N/W</div></th>
												<th class="thWidth" title="DEVICE STATUS"><div >STATUS</div></th>
												<th class="thWidth" title="SITE ID"><div class="colHeader">SI</div></th>
												 <th class="thWidth" title="SITE NAME"><div class="colHeader">SN</div></th>
												 <th class="thWidth" title="CIRCLE NAME"><div class="colHeader">C</div></th>
												 <th class="thWidth" title="EB-R PHASE"><div class="colHeader">RP</div></th>
												<!-- <th style="text-align: center;  
												 width: 31px;" rowspan="1" colspan="1">Circle</th> -->
													<th class="thWidth" title="EB-Y PHASE"><div class="colHeader">YP</div></th>
												<th class="thWidth" title="EB-B PHASE"><div class="colHeader">BP</div></th>
												<th class="thWidth" title="DG ON"><div class="colHeader">DGO</div></th>
												<th class="thWidth" title="DG ON LOAD"><div class="colHeader">DGOL</div></th>
												<th class="thWidth" title="DG BATTERY LOW"><div class="colHeader">DGBL</div></th>
												<th class="thWidth" title="LOW FUEL"><div class="colHeader">LF</div></th>
												<th class="thWidth" title="NO FUEL"><div class="colHeader">NF</div></th>
												<th class="thWidth" title="DOOR OPEN"><div class="colHeader">DO</div></th>
												<th class="thWidth" title="FIRE AND SMOKE"><div class="colHeader">FS</div></th>
												<th class="thWidth" title="DG FAIL TO START"><div class="colHeader">DFT</div></th>
												<th class="thWidth" title="DG FAIL TO STOP"><div class="colHeader">DFS</div></th>
												<th class="thWidth" title="SPARE 3"><div class="colHeader">DI13</div></th>
												<th class="thWidth" title="SPARE 4"><div class="colHeader">DI14</div></th>
												<th class="thWidth" title="SPARE 5"><div class="colHeader">DI15</div></th>
												<th class="thWidth" title="SPARE 6"><div class="colHeader">DI16</div></th>
												<th class="thWidth" title="BB volt"><div class="colHeader">VOLT</div></th>
												<th class="thWidth" title="SHELTER IN &#8451;"><div class="colHeader">TEMP<div class="colHeader">	</th>
											</tr>
										</thead>
										<tbody>
											<tr data-ng-repeat="site in fullSiteInfo">
												<td class="colHeight meter" data-ng-if="site[24] == 2 || site[24] == 3 || site[24] == 4  || site[24] == 5 || site[24] == 6 || site[24] == 7
												|| site[24] == 8 || site[24] == 9"><meter  max="31" title="Marginal" value="{{site[24]}}" >100%</meter></td>
												<td class="colHeight meter" data-ng-if="site[24] == 10 || site[24] == 11 || site[24] == 12  || site[24] == 13 || site[24] == 14">
													<meter  max="31" title="Ok" value="{{site[24]}}" >100%</meter></td>
												<td class="colHeight meter" data-ng-if="site[24] == 15 || site[24] == 16 || site[24] == 17  || site[24] == 18 || site[24] == 19">
													<meter  max="31" title="GOOD" value="{{site[24]}}" >100%</meter></td>
												<td class="colHeight meter" data-ng-if="site[24] == 20 || site[24] == 21 || site[24] == 22  || site[24] == 23 || site[24] == 24 || site[24] == 25
												|| site[24] == 26 || site[24] == 27 || site[24] == 28 || site[24] == 29 || site[24] == 30 || site[24] == 31">
													<meter  max="31" title="EXCELLENT" value="{{site[24]}}" >100%</meter></td>
												<td data-ng-if="(date | date:'dd/MM/yyyy') == (site[23] | date:'dd/MM/yyyy')"
												 class="colHeight" title="{{site[23] | date:'M/d/yy h:mm a'}}"><img class="thumbsUpSize" alt="" src="../images/thumsUp.png" /></td>
												 <td   data-ng-if="!((date | date:'dd/MM/yyyy') == (site[23] | date:'dd/MM/yyyy'))"
												 class="colHeight" title="{{site[23] | date:'M/d/yy h:mm a'}}"><img  class="thumbsDownSize" alt="" src="../images/thumbsDown.png"  /></td>
												<td class="colHeight" title="{{site[0]}}">{{site[19]}}</td>
												<td class="colHeight" title="{{site[0]}}">{{site[20]}}</td>
												<td class="colHeight" title="{{site[0]}}">{{site[21]}}</td>							
 												<td data-ng-if="site[1]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenter" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[1]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[2]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenter" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[2]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[3]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenter" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[3]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[4]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenterAlD" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[4]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[5]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenterDgl" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[5]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[6]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenterAlD" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[6]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[7]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenterAlD" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[7]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[8]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenterAlD" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[8]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[9]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenterAlD" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[9]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[10]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenterAlD" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[10]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[11]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenterAlD" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[11]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[12]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenter" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[12]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[13]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenter" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[13]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[14]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenter" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[14]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[15]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenter" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[15]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
 												<td data-ng-if="site[16]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="redImgCenter" alt="" src="../images/redAlarm.png" /></td>
 												<td data-ng-if="!site[16]" title="{{site[25] | date:'M/d/yy h:mm a'}}"> <img class="greenImgCenter" alt="" src="../images/greenAlarm.png" /></td>
												<td class="colHeight">{{site[17]}}</td>
												<td class="colHeight">{{site[18]}}&#8451;</td>
												
											</tr>
										</tbody>
								 </table>
								 </div>
								 
					    </md-content>
	   				</md-tab>
	   				<md-tab label="DC Load" data-ng-init="fetchDcLoadData()">
		   				<md-content class="md-padding" flex="" layout-fill="">
			   				<!-- <div data-ng-if="!isLoading" style="font-weight: bold; font-size: larger;">DC LOAD TABLE</div> -->
			   				 <div style="margin-top: 10%;" data-ng-show="isLoading" layout="row" layout-sm="column" layout-align="space-around">
      							<md-progress-circular md-mode="indeterminate"></md-progress-circular>
   							 </div>
   							 <div class='center' data-ng-if="isLoading">
  								<p class="awesome">Please wait loading...</p>
						     </div>   							 
			   				 <table id="dcloadTable" data-ng-if="!isLoading" class="table table-striped table-bordered" style="background-color: rgba(189, 239, 191, 0.26);" cellspacing="0" width="100%">
								  <thead style="background-color: #14688aa6; color: aliceblue;">
								    <tr>
								      <th class="th-sm">IMEI</th>
								      <th class="th-sm" title="	DC LOAD 1">LD1</th>
								      <th class="th-sm" title=" DC LOAD 2">LD2</th>
								      <th class="th-sm" title=" DC LOAD 3">LD3</th>
								      <th class="th-sm" title=" DC LOAD 4">LD4</th>
								      <th class="th-sm" title=" VOLTAGE">VOLT</th>
								      <th class="th-sm" title=" DATA TIME">DATA TIME</th>
								      <th class="th-sm" title=" INSERT TIME">INSERT TIME</th>
								    </tr>
								  </thead>
								  <tbody>
								    <tr data-ng-repeat="dcLoad in dcLoadData">
								      <td>{{dcLoad.imei}}</td>
								      <td>{{dcLoad.load1}}</td>
								      <td>{{dcLoad.load2}}</td>
								      <td>{{dcLoad.load3}}</td>
								      <td>{{dcLoad.load4}}</td>
								      <td>{{dcLoad.voltage}}</td>
								      <td>{{dcLoad.dataTime}}</td>
								      <td>{{dcLoad.insertTime}}</td>
								    </tr>
			
								  </tbody>
								  
							</table>
						  </md-content>
	   				</md-tab>
	   				<md-tab label="Temperature" data-ng-init="fetchTemperatureData()">
			   			<md-content class="md-padding" flex="" layout-fill="">
				   			<!-- <div data-ng-if="!isLoading" style="font-weight: bold; font-size: larger;">TEMPERATURE TABLE</div> -->
				   			 <div style="margin-top: 10%;" data-ng-show="isLoading" layout="row" layout-sm="column" layout-align="space-around">
      							<md-progress-circular md-mode="indeterminate"></md-progress-circular>
   							 </div>
   							 <div class='center' data-ng-if="isLoading">
  								<p class="awesome">Please wait loading...</p>
						     </div>   							 
				   			 <table id="tempTable" data-ng-if="!isLoading" class="table table-striped table-bordered" style="background-color: rgba(189, 239, 191, 0.26);" cellspacing="0" width="100%">
								  <thead style="background-color: #14688aa6; color: aliceblue;">
								    <tr>
								      <th class="th-sm" title="IMEI NUMBER">IMEI</th>
								      <th class="th-sm" title="SHELTER IN &#8451;">ROOM TEMP</th>
								      <th class="th-sm" title="DATA TIME">DATA TIME</th>
								      <th class="th-sm" title="INSERT TIME">INSERT TIME</th>
								    </tr>
								  </thead>
								  <tbody>
								    <tr data-ng-repeat="temp in temperatureData">
								      <td>{{temp.imei}}</td>
								      <td>{{temp.degreeC}}</td>						      
								      <td>{{temp.dataTime}}</td>
								      <td>{{temp.insertTime}}</td>
								   	 </tr>
								    </tbody>
								  </table>					  
			   			</md-content>
	   				</md-tab>
	   			</md-tabs>
	   			 <!--  -->
	   		</md-tab>
	   		<md-tab label="Configuration" >
	   			<md-content class="md-padding" flex="" layout-fill="">
	   			 <div layout="row" layout-align="center">
	   			 
		   			<md-card class="cardSize">
		   				<md-toolbar class="toolbarText ">Site Info</md-toolbar>
					   	 <md-card-content class="md-padding">
		     				 <div layout="row" layout-align="center">
		     				  <div class="col-sm-6 colCenter" >
								    <md-input-container class="dropSize">
							          <label class="labelSize">IMEI NUMBER</label>
							          <md-select data-ng-model="deviceImei">
							            <md-option data-ng-repeat="device in deviceInfoData" data-ng-value="device.imei">
							              {{device.imei}}
							            </md-option>
							          </md-select>
							        </md-input-container>
							        <md-input-container style="margin-top: 15%;" >
								          <label class="labelSize">SITE NAME</label>
								          <input data-ng-model="sitename" >
								        </md-input-container >
								        
							         </div>
							        <div class="col-sm-6 colCenter">
							        <md-input-container >
							          <label class="labelSize">SITE ID</label>
							          <input data-ng-model="siteId">
							        </md-input-container >
								        
								        <md-input-container style="margin-top: 9%;">
								          <label class="labelSize">CIRCLE NAME</label>
								          <input data-ng-model="circleName" >
								        </md-input-container>	
								       
							        </div>			        
				      	 	 </div>
				      	  <md-button class="md-raised md-primary btnRight" data-ng-click="confirmConfiguration()" >Save</md-button>
				        </md-card-content>
					 </md-card>
					 </div>
					 
					
				</md-content>
   		</md-tab>
   	
	   </md-tabs>
	  
			<!-- <script
				src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script> -->
			<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.7/angular.js"></script>
			<script
				src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.6/angular-material.min.js"></script>
			<script
				src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-route.min.js"></script>
			<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.6/angular-animate.min.js"></script>
		  	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.6/angular-aria.min.js"></script>
		  	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.6/angular-messages.min.js"></script>
				
				
		    <script type="text/javascript" src="../static/js/app.js" th:src="@{js/app.js}"></script>
		      
	 
	   </body>
</html>
